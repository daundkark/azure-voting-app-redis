pipeline {
    agent any

    stages {
        stage('Verify Branch') {
            steps {
                echo "$GIT_BRANCH"
	    post { 
               success { 
                 echo 'Branch name printed successfully'
                      }
                 }
            }
        }
	
	stage('Docker Build') {
            steps {
               sh label: '', script: 'docker images -a'
	       sh label: '', script: '''cd azure-vote
				docker images -a
				docker build -t jenkins-pipeline .
				docker images -a
				cd ..'''
		  }
        }
    }
    post { 
        always { 
            echo 'I will always say Hello again! :):)'
        }
    }
}
